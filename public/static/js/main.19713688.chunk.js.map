{"version":3,"sources":["components/settings.js","components/serverFacade.js","components/Reset.js","components/Refresh.js","components/Home.js","components/App.js","index.js"],"names":["SERVER_URL","configUserAddUser","email","password","console","log","method","headers","body","JSON","stringify","configUserGetUser","configUserForgotPassword","configOauthLogin","Authorization","grant_type","username","configOauthRefresh","refToken","doBody","refresh_token","configOauthClient","configOauthAccess","accessToken","ServerFacade","a","config","fetch","then","res","text","json","login","refresh","useAccessToken","clientCreds","addUser","getUser","getUserToken","postforgotPassword","Reset","EMPTY_TOKEN","token","expiration","used","newUser","useState","user","setUser","setToken","emailSend","setEmailSend","getUserInfo","facade","getTokenInfo","getToken","makeSetToken","NEW_TOKEN","handleSubmit","event","preventDefault","setTimeout","newuser","handleResetSubmit","handleUpdateSubmit","onSubmit","type","id","value","onChange","target","Refresh","setAccessToken","accessTokenExpireDate","setAccessTokenExpireDate","oldAccessToken","setOldAccessToken","refreshToken","setRefreshToken","refreshTokenExpireDate","setRefreshTokenExpireDate","oldRefreshToken","setOldRefreshToken","status","setStatus","showSecret","setShowSecret","secretData","setSecretData","errorText","setErrorText","countdown","setCountdown","useEffect","interval","setInterval","now","Date","expires","clearInterval","handleLogin","newToken","accessTokenExpiresAt","refreshTokenExpiresAt","handleRefresh","handleUseNewAccessToken","data","message","parse","err","handleOldNewAccessToken","style","fontSize","Math","floor","Home","App","className","exact","activeClassName","to","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.19713688.chunk.js","sourcesContent":["export const SERVER_URL = \"http://localhost:3000\";\n// export const SERVER_URL = \"https://express1.sandersolutions.dk\";","import { SERVER_URL } from './settings';\n\nconst configOauthGetToken = (password) => {\n\tconst headerBody = {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAuthorization: 'Basic YXBwbGljYXRpb246c2VjcmV0',\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tgrant_type: password,\n\t\t\tusername: 'testUser',\n\t\t\tpassword: password\n\t\t})\n\t};\n\treturn headerBody;\n};\nconst configUserAddUser = (email, password) => {\n\tconsole.log('configUserAddUser ', email, password);\n\tconst headerBody = {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\temail: email,\n\t\t\tpassword: password\n\t\t})\n\t};\n\treturn headerBody;\n};\nconst configUserGetUser = (email) => {\n\tconsole.log('configUserGetUser ', email);\n\tconst headerBody = {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\temail: email\n\t\t})\n\t};\n\treturn headerBody;\n};\nconst configUserForgotPassword = (email) => {\n\tconsole.log('configUserForgotPassword ', email);\n\tconst headerBody = {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\temail: email\n\t\t})\n\t};\n\treturn headerBody;\n};\nconst configOauthLogin = () => {\n\tconst doBody = {\n\t\tgrant_type: 'password',\n\t\tusername: 'testuser',\n\t\tpassword: 'password'\n\t};\n\tconsole.log('configOauthLogin ');\n\tconst headerBody = {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAuthorization: 'Basic YXBwbGljYXRpb246c2VjcmV0',\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify(doBody)\n\t};\n\treturn headerBody;\n};\nconst configOauthRefresh = (refToken) => {\n\tconst doBody = {\n\t\tgrant_type: 'refresh_token',\n\t\trefresh_token: refToken\n\t};\n\tconsole.log('configOauthLogin ');\n\tconst headerBody = {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAuthorization: 'Basic YXBwbGljYXRpb246c2VjcmV0',\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify(doBody)\n\t};\n\treturn headerBody;\n};\nconst configOauthClient = () => {\n\tconsole.log('configOauthClient ');\n\tconst doBody = {\n\t\tgrant_type: 'client_credentials'\n\t};\n\t// Auth: base64 version af \"clientId:clientSecret\"\n\tconst headerBody = {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAuthorization: 'Basic Y29uZmlkZW50aWFsQXBwbGljYXRpb246dG9wU2VjcmV0',\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify(doBody)\n\t};\n\treturn headerBody;\n};\nconst configOauthAccess = (accessToken) => {\n\tconsole.log('configOauthAccess accessToken', accessToken);\n\tconst headerBody = {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAuthorization: 'Bearer ' + accessToken,\n\t\t\t'Content-Type': 'application/json'\n\t\t}\n\t};\n\treturn headerBody;\n};\n\nconst ServerFacade = () => {\n\t/**\n   * make base64 encoding for authorization\n   */\n\n  async function useAccessToken(accessToken) {\n\t  console.log('useAccessToken', `${SERVER_URL}/oauth`);\n\t  const config = configOauthAccess(accessToken);\n\t  console.log('useAccessToken config', config);\n\t  const res = await fetch(`${SERVER_URL}/oauth`, config).then((res) => res.text());\n\t  console.log('useAccessToken res', res);\n\t  return res;\n  }\n\tasync function clientCreds() {\n\t\tconsole.log('clientCreds', `${SERVER_URL}/oauth/token`);\n\t\tconst config = configOauthClient();\n\t\tconsole.log('clientCreds config', config);\n\t\tconst res = await fetch(`${SERVER_URL}/oauth/token`, config).then((res) => res.json());\n\t\tconsole.log('clientCreds res', res);\n\t\treturn res;\n\t}\n\tasync function refresh(refToken) {\n\t\tconsole.log('refresh', `${SERVER_URL}/oauth/token`);\n\t\tconst config = configOauthRefresh(refToken);\n\t\tconsole.log('refresh config', config);\n\t\tconst res = await fetch(`${SERVER_URL}/oauth/token`, config).then((res) => res.json());\n\t\tconsole.log('refresh res', res);\n\t\treturn res;\n\t}\n\tasync function login() {\n\t\tconsole.log('login', `${SERVER_URL}/oauth/token`);\n\t\tconst config = configOauthLogin();\n\t\tconsole.log('login config', config);\n\t\tconst res = await fetch(`${SERVER_URL}/oauth/token`, config).then((res) => res.json());\n\t\tconsole.log('login res', res);\n\t\treturn res;\n\t}\n\n\tasync function addUser(email, password) {\n\t\tconsole.log('addUser ', email, password);\n\t\tconsole.log('URL ', `${SERVER_URL}/user/add-user`);\n\t\tconst config = configUserAddUser(email, password);\n\t\tconsole.log('addUser config', config);\n\t\tconsole.log('addUser URL config', `${SERVER_URL}/user/add-user`, config);\n\t\tconst res = await fetch(`${SERVER_URL}/user/add-user`, config).then((res) => res.json());\n\t\tconsole.log('addUser res', res);\n\t\treturn res;\n\t}\n\n\tasync function getUser(email) {\n\t\tconsole.log('getUser ', email);\n\t\tconst config = configUserAddUser(email);\n\t\tconst res = await fetch(`${SERVER_URL}/user/get-user`, config).then((res) => res.json());\n\t\tconsole.log('getUser res', res);\n\t\treturn res;\n\t}\n\n\tasync function getUserToken(email) {\n\t\tconsole.log('getUserToken ', email);\n\t\tconst config = configUserGetUser(email);\n\t\tconst res = await fetch(`${SERVER_URL}/user/get-user-token`, config).then((res) => res.json());\n\t\tconsole.log('getUserToken res', res);\n\t\treturn res;\n\t}\n\n\tasync function postforgotPassword(email) {\n\t\tconsole.log('postforgotPassword ', email);\n\t\tconst config = configUserForgotPassword(email);\n\t\tconst res = await fetch(`${SERVER_URL}/user/forgot-password`, config).then((res) => res.json());\n\t\tconsole.log('postforgotPassword res', res);\n\t\treturn res;\n\t}\n\n\treturn {\n\t\tlogin,\n\t\trefresh,\n\t\tuseAccessToken,\n\t\tclientCreds,\n\t\taddUser,\n\t\tgetUser,\n\t\tgetUserToken,\n\t\tpostforgotPassword\n\t};\n};\n\nexport default ServerFacade();\n","import React, { useState, useEffect } from 'react';\nimport facade from './serverFacade';\n\nconst Reset = () => {\n\tconst EMPTY_USER = { email: '', password: '' };\n\tconst EMPTY_TOKEN = { email: '', token: '', expiration: '', used: '' };\n\tlet newUser = { ...EMPTY_USER };\n\tlet newToken = { ...EMPTY_TOKEN };\n\n\tconst [ user, setUser ] = useState({ ...newUser });\n\tconst [ token, setToken ] = useState({ ...newUser });\n\tconst [ emailSend, setEmailSend ] = useState(false);\n\n\tconst getUserInfo = async (email) => {\n\t\tconst getUser = await facade.getUser(email);\n\t\treturn getUser;\n\t};\n\n\tconst getTokenInfo = async (email) => {\n\t\tconst getToken = await facade.getUserToken(email);\n\t\treturn getToken;\n\t};\n\tconst makeSetToken = async (email) => {\n\t\tconst getToken = await getTokenInfo(email);\n\t\tif (getToken != null) {\n\t\t\tconst NEW_TOKEN = {\n\t\t\t\temail: getToken.email,\n\t\t\t\ttoken: getToken.token,\n\t\t\t\texpiration: getToken.expiration,\n\t\t\t\tused: getToken.used\n\t\t\t};\n\t\t\tsetToken({ ...NEW_TOKEN });\n\t\t} else {\n\t\t\tsetToken({ ...EMPTY_TOKEN });\n\t\t}\n\t};\n\n\tconst handleChange = (event) => {\n\t\tconst id = event.target.id;\n\t\t// console.log('id: ', id);\n\t\tuser[id] = event.target.value;\n\t\t// console.log('user: ', { ...user });\n\t\tsetUser({ ...user });\n\t};\n\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\tfacade.addUser(user.email, 'test');\n\t\tsetTimeout(async () => {\n\t\t\tconst newuser = await getUserInfo(user.email);\n\t\t\tif (newuser) setUser(newuser);\n\t\t\tconst getToken = await getTokenInfo(user.email);\n\t\t\tconsole.log('handleSubmit getToken', getToken);\n\t\t\tawait makeSetToken(user.email);\n\t\t}, 2000);\n\t};\n\tconst handleResetSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\tawait facade.postforgotPassword(user.email);\n\n\t\tconst newuser = await getUserInfo(user.email);\n\t\tif (newuser) setUser(newuser);\n\t\tawait makeSetToken(user.email);\n\t\tsetEmailSend(true);\n\t};\n\tconst handleUpdateSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log('handleUpdateSubmit user.email', user.email);\n\t\tawait makeSetToken(user.email);\n\t\tconst newuser = await getUserInfo(user.email);\n\t\tif (newuser) setUser(newuser);\n\t\tsetEmailSend(false);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<br />\n\t\t\t\t<h1>Reset kodeord</h1>\n\t\t\t\t<h2>Indtast brugbar email til brug ved reset</h2>\n\t\t\t\t<h2>Tryk på knapperne i rækkefølge</h2>\n\t\t\t\t<h2>#3. Opdater kan altid benyttes</h2>\n\t\t\t\t<h4>OBS: Database bliver lagt ned efter eksamen</h4>\n\t\t\t\t<label>\n\t\t\t\t\tEmail<br />\n\t\t\t\t\t<input type=\"text\" id=\"email\" value={user.email} onChange={handleChange} />\n\t\t\t\t</label>\n\t\t\t\t{/* <label>\n\t\t\t\t\tPassword (synlig pga test)<br />\n\t\t\t\t\t<input type=\"text\" id=\"password\" value={user.password} onChange={handleChange} />\n\t\t\t\t</label> */}\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t1.\n\t\t\t\t<br />\n\t\t\t\t<input type=\"submit\" value=\"Submit og vent 2 sek\" />\n\t\t\t</form>\n\t\t\t<br />\n\t\t\t<div>\n\t\t\t\t<b>Email:</b> {user.email}\n\t\t\t\t<br />\n\t\t\t\t<b>Kodeord:</b> {user.password}\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<b>Token:</b> {token.token}\n\t\t\t\t<br />\n\t\t\t\t<b>Udløbsdato: </b>\n\t\t\t\t{token.expiration}\n\t\t\t\t<br />\n\t\t\t\t<b>Benyttet: </b>\n\t\t\t\t{token.used}\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t2.{' '}\n\t\t\t\t<form onSubmit={handleResetSubmit}>\n\t\t\t\t\t<input type=\"submit\" value=\"Reset kodeord\" />\n\t\t\t\t</form>\n\t\t\t\t{emailSend ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<b>Email Sendt. Check email adresse.</b>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>OBS bemærk token info ovenover</p>\n\t\t\t\t\t\t<p>Tiden er UTC</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<br />\n\t\t\t\t)}\n\t\t\t\t<br />\n\t\t\t\t3.{' '}\n\t\t\t\t<form onSubmit={handleUpdateSubmit}>\n\t\t\t\t\t<input type=\"submit\" value=\"Opdater\" />\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Reset;\n","import React, { useState, useEffect } from 'react';\nimport facade from './serverFacade';\n\nconst Refresh = () => {\n\tconst [ accessToken, setAccessToken ] = useState('');\n\tconst [ accessTokenExpireDate, setAccessTokenExpireDate ] = useState('');\n\tconst [ oldAccessToken, setOldAccessToken ] = useState('');\n\tconst [ refreshToken, setRefreshToken ] = useState('');\n\tconst [ refreshTokenExpireDate, setRefreshTokenExpireDate ] = useState('');\n\tconst [ oldRefreshToken, setOldRefreshToken ] = useState('');\n\tconst [ status, setStatus ] = useState(false);\n\tconst [ showSecret, setShowSecret ] = useState(false);\n\tconst [ secretData, setSecretData ] = useState('');\n\tconst [ errorText, setErrorText ] = useState('');\n\tconst [ countdown, setCountdown ] = useState(0);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(() => {\n\t\t\tconst now = new Date()\n\t\t\tconst expires = new Date(accessTokenExpireDate)\n\t\t\tsetCountdown(expires-now)\n\t\t}, 1000);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, [accessTokenExpireDate]);\n\n\tconst handleLogin = async (event) => {\n\t\tevent.preventDefault();\n\t\tconst newToken = await facade.login();\n\t\tsetAccessToken(newToken.accessToken);\n\t\tsetRefreshToken(newToken.refreshToken);\n\t\tsetAccessTokenExpireDate(newToken.accessTokenExpiresAt);\n\t\tsetRefreshTokenExpireDate(newToken.refreshTokenExpiresAt);\n\t\tsetStatus(true);\n\t\tsetErrorText('');\n\t};\n\tconst handleRefresh = async (event) => {\n\t\tevent.preventDefault();\n\t\tconst newToken = await facade.refresh(refreshToken);\n\t\tsetTimeout(() => {\n\t\t\tsetOldAccessToken(accessToken);\n\t\t\tsetOldRefreshToken(refreshToken);\n\t\t\tsetAccessToken(newToken.accessToken);\n\t\t\tsetRefreshToken(newToken.refreshToken);\n\t\t\tsetAccessTokenExpireDate(newToken.accessTokenExpiresAt);\n\t\t\tsetRefreshTokenExpireDate(newToken.refreshTokenExpiresAt);\n\t\t\tsetStatus(true);\n\t\t}, 2000);\n\t};\n\tconst handleUseNewAccessToken = async (event) => {\n\t\tevent.preventDefault();\n\t\tconst data = await facade.useAccessToken(accessToken);\n\t\tconsole.log('handleUseNewAccessToken data', data);\n\t\tconsole.log('handleUseNewAccessToken data.message', data.message);\n\t\ttry {\n\t\t\tconst text = JSON.parse(data);\n\t\t\tsetShowSecret(false);\n\t\t\tsetErrorText(text.message);\n\t\t\tsetSecretData('');\n\t\t\tsetStatus(false);\n\t\t} catch (err) {\n\t\t\tsetShowSecret(true);\n\t\t\tsetSecretData(data);\n\t\t\tsetErrorText('');\n\t\t}\n\t};\n\tconst handleOldNewAccessToken = async (event) => {\n\t\tevent.preventDefault();\n\t\tconst data = await facade.useAccessToken(oldAccessToken);\n\t\tconsole.log('handleOldNewAccessToken data', data);\n\t\tconsole.log('handleOldNewAccessToken data.message', data.message);\n\t\ttry {\n\t\t\tconst text = JSON.parse(data);\n\t\t\tsetShowSecret(false);\n\t\t\tsetErrorText(text.message);\n\t\t\tsetSecretData('');\n\t\t} catch (err) {\n\t\t\tsetShowSecret(true);\n\t\t\tsetSecretData(data);\n\t\t\tsetErrorText('');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Login og refresh for at holde login status</h2>\n\t\t\t<div style={{ fontSize: '9px' }}>\n\t\t\t\t<p>Tryk \"Login\", derefter prøv de to \"Benyt Access Token\" knapper </p>\n\t\t\t\t<p>Prøv \"Refresh\", derefter prøv de to knapper igen.</p>\n\t\t\t\t<p>Access token har her en levetid på 15 sekunder</p>\n\t\t\t\t<p>Refresh token har en levetid på to uger</p>\n\t\t\t</div>\n\t\t\t<form onSubmit={handleLogin}>\n\t\t\t\t<input type=\"submit\" value=\"Login\" />\n\t\t\t</form>\n\t\t\t<form onSubmit={handleRefresh}>\n\t\t\t\t<input type=\"submit\" value=\"Refresh og vent 2 sekunder\" />\n\t\t\t</form>\n\t\t\t<h2>Status:</h2>\n\t\t\t{status ? <p>Logget ind i {Math.floor(countdown/1000)} sekunder</p> : <p>Logget ud</p>}\n\t\t\t{showSecret && <p>{secretData}</p>}\n\t\t\t{errorText && <p>{errorText}</p>}\n\t\t\t<form onSubmit={handleUseNewAccessToken}>\n\t\t\t\t<input type=\"submit\" value=\"Benyt Access Token\" />\n\t\t\t</form>\n\t\t\t<b>Access Token</b>\n\t\t\t<br />\n\t\t\t{accessToken}\n\t\t\t<br />\n\t\t\t<b>Access Token udløber (UTC tid)</b>\n\t\t\t<br />\n\t\t\t{accessTokenExpireDate}\n\t\t\t<br />\n\t\t\t<b>Refresh Token</b>\n\t\t\t<br />\n\t\t\t{refreshToken}\n\t\t\t<br />\n\t\t\t<b>Refresh Token udløber (UTC tid)</b>\n\t\t\t<br />\n\t\t\t{refreshTokenExpireDate}\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<form onSubmit={handleOldNewAccessToken}>\n\t\t\t\t<input type=\"submit\" value=\"Benyt det gamle Access Token\" />\n\t\t\t</form>\n\t\t\t<b>Gammelt Access Token</b>\n\t\t\t<br />\n\t\t\t{oldAccessToken}\n\t\t\t<br />\n\t\t\t<b>Gammelt Refresh Token</b>\n\t\t\t<br />\n\t\t\t{oldRefreshToken}\n\t\t\t<br />\n\t\t</div>\n\t);\n};\n\nexport default Refresh;\n","import React from 'react';\n\nexport default function Home() {\n\treturn (\n\t\t<div>\n\t\t\t<h2>Token testbed</h2>\n\t\t\t<br />\n\t\t\t<h3>Reset menu</h3>\n\t\t\t<p>Reset kodeord</p>\n\t\t\t<br />\n\t\t\t<h3>Refresh Token menu</h3>\n\t\t\t<p>Hold login i live</p>\n\t\t\t<br />\n\t\t</div>\n\t);\n}\n","// npm install react-bootstrap bootstrap\n\nimport React from \"react\";\nimport \"../App.css\"\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  NavLink\n} from \"react-router-dom\";\n\nimport Reset from \"./Reset\"\nimport Refresh from \"./Refresh\"\nimport Home from \"./Home\"\n\n\nexport default function App() {\n  return (\n    <Router>\n      <div>\n        <ul className=\"header\">\n          <li>\n            <NavLink exact activeClassName=\"selected\" to=\"/\">Home</NavLink>\n          </li>\n          <li>\n            <NavLink exact activeClassName=\"selected\" to=\"/reset\">Reset</NavLink>\n          </li>\n          <li>\n            <NavLink exact activeClassName=\"selected\" to=\"/refresh\">Refresh</NavLink>\n          </li>\n        </ul>\n\n        <hr />\n          <div className=\"content\">\n            <Switch>\n              <Route exact path=\"/\">\n                <Home />\n              </Route>\n              <Route path=\"/reset\">\n                <Reset />\n              </Route>\n              <Route path=\"/refresh\">\n                <Refresh />\n              </Route>\n              \n            </Switch>\n          </div>\n      </div>\n    </Router>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}