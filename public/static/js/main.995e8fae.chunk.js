(this["webpackJsonpgraphql-video-client"]=this["webpackJsonpgraphql-video-client"]||[]).push([[0],{51:function(e,t,a){e.exports=a(66)},56:function(e,t,a){},57:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(39),c=a.n(l),u=(a(56),a(57),a(21)),s=a(20),m=a(9),i=a(11),o=a(49),d=a(19),E=a(22),b=a(14),p=a(15);function v(){var e=Object(b.a)(["\n\tmutation createUser($input: UserInput!) {\n\t\tcreateUser(input: $input) \n\t}\n"]);return v=function(){return e},e}function f(){var e=Object(b.a)(["\n\t{\n\t  users {\n\t\t\tname\n\t\t\tuserName\n\t\t\trole\n\t\t}\n\t}\n"]);return f=function(){return e},e}var h=Object(i.b)(f()),O=Object(i.b)(v()),N=function(e){var t=e.initialUser,a=e.allowEdit,l={name:"",userName:"",role:"user",password:""};console.log("initialUser",t);var c=t||Object(E.a)({},l);console.log("newUser",c);var u=Object(n.useState)(Object(E.a)({},c)),s=Object(d.a)(u,2),m=s[0],i=s[1],b=Object(n.useState)(!a),v=Object(d.a)(b,2),f=v[0],N=(v[1],Object(p.b)(O,{update:function(e,t){var a=t.data.createUser,n=e.readQuery({query:h}).users;n.push(a),e.writeQuery({query:h,data:{users:Object(o.a)(n)}})}})),j=Object(d.a)(N,2),g=j[0],y=(j[1].data,function(e){var t=e.target.id;console.log("userName: ",t),m[t]=e.target.value,console.log("user: ",Object(E.a)({},m)),i(Object(E.a)({},m))});return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g({variables:{input:{name:m.name,userName:m.userName,password:m.password}}}),i(Object(E.a)({},l))}},r.a.createElement("label",null,"Name",r.a.createElement("br",null),r.a.createElement("input",{type:"text",readOnly:f,id:"name",value:m.name,onChange:y})),r.a.createElement("br",null),r.a.createElement("label",null,"UserName ",r.a.createElement("br",null),r.a.createElement("input",{readOnly:f,type:"text",id:"userName",value:m.userName,onChange:y})),r.a.createElement("br",null),f&&r.a.createElement("p",null,"Role: ",m.role),r.a.createElement("label",{hidden:f},"Password ",r.a.createElement("br",null),r.a.createElement("input",{readOnly:f,type:"password",id:"password",value:m.password,onChange:y})),r.a.createElement("br",null),r.a.createElement("br",null),!f&&r.a.createElement("input",{type:"submit",value:"Submit"}))};function j(){var e=Object(b.a)(["\n\t{\n\t\tgamearea {\n\t\t\tcoordinates\n\t\t}\n\t}\n"]);return j=function(){return e},e}function g(){var e=Object(b.a)(["\n\t{\n\t\tusers {\n\t\t\tname\n\t\t\tuserName\n\t\t\trole\n\t\t}\n\t}\n"]);return g=function(){return e},e}var y=a(60),U=(Object(i.b)(g()),Object(i.b)(j()));function w(){var e=Object(p.c)(U,{fetchPolicy:"no-cache"}),t=e.loading,a=e.error,n=e.data;e.networkStatus;return t?r.a.createElement("h3",null,"Loading gamearea..."):a?r.a.createElement("p",null," ",JSON.stringify(a)):n?r.a.createElement("div",null,n.gamearea.coordinates[0].map((function(e){return r.a.createElement("div",null,r.a.createElement("p",{key:y()},"Longitude: ",e[0],", Latitude: ",e[1]))}))):r.a.createElement("p",null,"No Data from gamearea")}var C=a(44),S=a.n(C),x=a(50);function k(){var e=Object(b.a)(["\n\tmutation deleteUser($userName: String!) {\n\t\tdeleteUser(userName: $userName)\n\t}\n"]);return k=function(){return e},e}function q(){var e=Object(b.a)(["\n\t{\n\t\tusers {\n\t\t\tname\n\t\t\tuserName\n\t\t\trole\n\t\t}\n\t}\n"]);return q=function(){return e},e}var L=Object(i.b)(q()),A=Object(i.b)(k());function P(){var e=Object(p.c)(L,{pollInterval:15e3}),t=e.loading,a=e.error,n=e.data,l=e.refetch,c=Object(p.b)(A),u=Object(d.a)(c,1)[0];return t?r.a.createElement("h3",null,"Loading..."):a?r.a.createElement("p",null," ",JSON.stringify(a)):n?r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null))),r.a.createElement("tbody",null,n.users.map((function(e){return r.a.createElement("tr",{key:S()()},r.a.createElement("td",null,e.userName),r.a.createElement("td",null,e.name?e.name:null),r.a.createElement("td",null,e.role),r.a.createElement("td",null,"\xa0\xa0",r.a.createElement("a",{style:{fontSize:8},href:"#",onClick:function(){return t=e.userName,u({variables:{userName:t}}),void l();var t}},"Delete (Refetch All)"),", \xa0",r.a.createElement("a",{style:{fontSize:8},href:"#",onClick:function(){return t=e.userName,void u({variables:{userName:t},update:function(e){var a=e.readQuery({query:L}).users.filter((function(e){return e.userName!==t}));e.writeQuery({query:L,data:{users:a}})}});var t}},"Delete (Update Cache)")))}))))):r.a.createElement("p",null,"No Data")}function Q(){var e=Object(b.a)(["\n\tquery user($userName: String!) {\n\t\tuser(userName: $userName) {\n\t\t\tname\n\t\t\tuserName\n\t\t\trole\n\t\t}\n\t}\n"]);return Q=function(){return e},e}var $=Object(i.b)(Q());function D(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(p.a)($),u=Object(d.a)(c,2),s=u[0],m=u[1],i=m.loading,o=m.error,E=m.data;return r.a.createElement("div",null,"Username:",r.a.createElement("input",{type:"txt",value:a,onChange:function(e){l(e.target.value)}}),"\xa0 ",r.a.createElement("button",{onClick:function(){s({variables:{userName:a}})}},"Find User"),r.a.createElement("br",null),r.a.createElement("br",null),i&&r.a.createElement("h2",null,"Loading..."),o&&r.a.createElement("h2",null,"Could not find user..."),E&&r.a.createElement(N,{initialUser:E.user}))}function I(){return r.a.createElement("div",null,r.a.createElement("h2",null,"GraphQL/Apollo demo"),r.a.createElement("p",null,"This is meant as a simple client demo, using the GraphQL API provided by the Lynda Friends Video"))}var J=new i.a({uri:"https://localhost:5000/graphql"});function F(){return r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement("ul",{className:"header"},r.a.createElement("li",null,r.a.createElement(u.b,{exact:!0,activeClassName:"selected",to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(u.b,{exact:!0,activeClassName:"selected",to:"/allUsers"},"All Users")),r.a.createElement("li",null,r.a.createElement(u.b,{exact:!0,activeClassName:"selected",to:"/allPositions"},"All Positions")),r.a.createElement("li",null,r.a.createElement(u.b,{exact:!0,activeClassName:"selected",to:"/findUser"},"Find User")),r.a.createElement("li",null,r.a.createElement(u.b,{exact:!0,activeClassName:"selected",to:"/addUser"},"Add User"))),r.a.createElement("hr",null),r.a.createElement(m.a,{client:J},r.a.createElement("div",{className:"content"},r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(I,null)),r.a.createElement(s.a,{path:"/allUsers"},r.a.createElement(P,null)),r.a.createElement(s.a,{path:"/allPositions"},r.a.createElement(w,null)),r.a.createElement(s.a,{path:"/findUser"},r.a.createElement(D,null)),r.a.createElement(s.a,{path:"/addUser"},r.a.createElement(N,{allowEdit:!0})))))))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.995e8fae.chunk.js.map